"use strict";(self.webpackChunk_surecart_surecart=self.webpackChunk_surecart_surecart||[]).push([[5905],{6715:function(e,t,n){function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"polite",t=document.createElement("div");t.id="a11y-speak-".concat(e),t.className="a11y-speak-region",t.setAttribute("style","position: absolute;margin: -1px;padding: 0;height: 1px;width: 1px;overflow: hidden;clip: rect(1px, 1px, 1px, 1px);-webkit-clip-path: inset(50%);clip-path: inset(50%);border: 0;word-wrap: normal !important;"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions text"),t.setAttribute("aria-atomic","true");var n=document,a=n.body;return a&&a.appendChild(t),t}n.d(t,{s:function(){return l}});var i,r="";function l(e,t){!function(){for(var e=document.getElementsByClassName("a11y-speak-region"),t=document.getElementById("a11y-speak-intro-text"),n=0;n<e.length;n++)e[n].textContent="";t&&t.setAttribute("hidden","hidden")}(),e=function(e){return e=e.replace(/<[^<>]+>/g," "),r===e&&(e+="Â "),r=e,e}(e);var n=document.getElementById("a11y-speak-intro-text"),a=document.getElementById("a11y-speak-assertive"),i=document.getElementById("a11y-speak-polite");a&&"assertive"===t?a.textContent=e:i&&(i.textContent=e),n&&n.removeAttribute("hidden")}i=function(){var e=document.getElementById("a11y-speak-intro-text"),t=document.getElementById("a11y-speak-assertive"),n=document.getElementById("a11y-speak-polite");null===e&&function(){var e=document.createElement("p");e.id="a11y-speak-intro-text",e.className="a11y-speak-intro-text",e.textContent=wp.i18n.__("Notifications"),e.setAttribute("style","position: absolute;margin: -1px;padding: 0;height: 1px;width: 1px;overflow: hidden;clip: rect(1px, 1px, 1px, 1px);-webkit-clip-path: inset(50%);clip-path: inset(50%);border: 0;word-wrap: normal !important;"),e.setAttribute("hidden","hidden");var t=document.body;t&&t.appendChild(e)}(),null===t&&a("assertive"),null===n&&a("polite")},"undefined"!=typeof document&&("complete"!==document.readyState&&"interactive"!==document.readyState?document.addEventListener("DOMContentLoaded",i):i())},5905:function(e,t,n){n.r(t),n.d(t,{sc_tax_id_input:function(){return p}});var a=n(5861),i=n(5671),r=n(3144),l=n(1284),s=n.n(l),u=n(8860),o=n(6715),c=n(7114),p=function(){function e(t){(0,i.Z)(this,e),(0,u.r)(this,t),this.scChange=(0,u.c)(this,"scChange",7),this.scInput=(0,u.c)(this,"scInput",7),this.scInputType=(0,u.c)(this,"scInputType",7),this.scSetState=(0,u.c)(this,"scSetState",7),this.country=void 0,this.show=!1,this.type="other",this.number=null,this.status="unknown",this.loading=void 0,this.help=void 0,this.otherLabel=wp.i18n.__("Tax ID","surecart"),this.caGstLabel=wp.i18n.__("GST Number","surecart"),this.auAbnLabel=wp.i18n.__("ABN Number","surecart"),this.gbVatLabel=wp.i18n.__("UK VAT","surecart"),this.euVatLabel=wp.i18n.__("EU VAT","surecart"),this.taxIdTypes=[],this.required=!1}var t;return(0,r.Z)(e,[{key:"reportValidity",value:(t=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.input.reportValidity());case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"onLabelChange",value:function(){c.z.ca_gst.label=this.caGstLabel||c.z.ca_gst.label,c.z.au_abn.label=this.auAbnLabel||c.z.au_abn.label,c.z.gb_vat.label=this.gbVatLabel||c.z.gb_vat.label,c.z.eu_vat.label=this.euVatLabel||c.z.eu_vat.label,c.z.other.label=this.otherLabel||c.z.other.label}},{key:"componentWillLoad",value:function(){this.onLabelChange()}},{key:"renderStatus",value:function(){return"valid"===this.status?(0,u.h)("sc-icon",{name:"check",slot:"prefix",style:{color:"var(--sc-color-success-500)"}}):"invalid"===this.status?(0,u.h)("sc-icon",{name:"x",slot:"prefix",style:{color:"var(--sc-color-danger-500)"}}):void 0}},{key:"filteredZones",value:function(){var e=this;return this.taxIdTypes.length?Object.keys(c.z).filter((function(t){return e.taxIdTypes.includes(t)})).reduce((function(e,t){return e[t]=c.z[t],e}),{}):c.z}},{key:"onTaxIdTypesChange",value:function(){this.taxIdTypes.length&&(this.type=this.taxIdTypes.includes("other")?"other":this.taxIdTypes[0])}},{key:"getZoneLabel",value:function(){var e,t,n=this.filteredZones()||{};return(null===(e=null==n?void 0:n[(null==this?void 0:this.type)||"other"])||void 0===e?void 0:e.label)||(null===(t=null==n?void 0:n[Object.keys(n)[0]])||void 0===t?void 0:t.label)}},{key:"render",value:function(){var e,t,n,a,i,r=this;return(0,u.h)(u.F,null,(0,u.h)("sc-input",{name:"tax_identifier.number_type",required:this.required,value:this.type,style:{display:"none"}}),(0,u.h)("sc-input",{ref:function(e){return r.input=e},label:this.getZoneLabel(),"aria-label":wp.i18n.__("Tax ID","surecart"),placeholder:wp.i18n.__("Enter Tax ID","surecart"),name:"tax_identifier.number",value:this.number,onScInput:function(e){e.stopImmediatePropagation(),r.scInput.emit({number:e.target.value,number_type:r.type||"other"})},onScChange:function(e){e.stopImmediatePropagation(),r.scChange.emit({number:e.target.value,number_type:r.type||"other"})},help:this.help,required:this.required},this.loading&&"eu_vat"===this.type?(0,u.h)("sc-spinner",{slot:"prefix",style:{"--spinner-size":"10px"}}):this.renderStatus(),1===(null===(e=Object.keys(this.filteredZones()||{}))||void 0===e?void 0:e.length)?(0,u.h)("span",{slot:"suffix"},null===(n=null===(t=Object.values(this.filteredZones()||{}))||void 0===t?void 0:t[0])||void 0===n?void 0:n.label_small):(0,u.h)("sc-dropdown",{slot:"suffix",position:"bottom-right",role:"select","aria-multiselectable":"false","aria-label":wp.i18n.__("Select number type","surecart")},(0,u.h)("sc-button",{type:"text",slot:"trigger",caret:!0,loading:!1,style:{color:"var(--sc-input-label-color)"},tabindex:"0"},null===(i=null===(a=this.filteredZones())||void 0===a?void 0:a[(null==this?void 0:this.type)||"other"])||void 0===i?void 0:i.label_small),(0,u.h)("sc-menu",null,Object.keys(this.filteredZones()||{}).map((function(e){return(0,u.h)("sc-menu-item",{role:"option",onClick:function(){r.scInput.emit({number:r.number,number_type:e}),r.scChange.emit({number:r.number,number_type:e}),r.type=e},onKeyDown:function(t){var n;"Enter"===t.key&&(r.scInput.emit({number:r.number,number_type:e}),r.scChange.emit({number:r.number,number_type:e}),r.type=e,null===(n=r.input)||void 0===n||n.triggerFocus(),(0,o.s)(wp.i18n.sprintf(wp.i18n.__("%s selected","surecart"),c.z[e].label_small,"assertive")))},checked:r.type===e,"aria-selected":r.type===e?"true":"false","aria-label":c.z[e].label_small},c.z[e].label_small)}))))))}}],[{key:"watchers",get:function(){return{otherLabel:["onLabelChange"],caGstLabel:["onLabelChange"],auAbnLabel:["onLabelChange"],gbVatLabel:["onLabelChange"],euVatLabel:["onLabelChange"],taxIdTypes:["onTaxIdTypesChange"]}}}]),e}();p.style=":host{display:block;z-index:3;position:relative}"},7114:function(e,t,n){n.d(t,{f:function(){return i},z:function(){return a}});var a={ca_gst:{label:wp.i18n.__("GST Number","surecart"),label_small:wp.i18n.__("CA GST","surecart")},au_abn:{label:wp.i18n.__("ABN Number","surecart"),label_small:wp.i18n.__("AU ABN","surecart")},gb_vat:{label:wp.i18n.__("VAT Number","surecart"),label_small:wp.i18n.__("UK VAT","surecart")},eu_vat:{label:wp.i18n.__("VAT Number","surecart"),label_small:wp.i18n.__("EU VAT","surecart")},other:{label:wp.i18n.__("Tax ID","surecart"),label_small:wp.i18n.__("Other","surecart")}},i=function(e){return e?"".concat(wp.i18n.__("Tax"),": ").concat(e||""):wp.i18n.__("Tax","surecart")}}}]);